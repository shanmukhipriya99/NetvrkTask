const HDWalletProvider = require('@truffle/hdwallet-provider');
const Web3 = require('web3');
const { interface, bytecode } = require('./compile');

const provider = new HDWalletProvider(
    'test boost nuclear avoid episode inject gaze joke infant poet raven inspire',
    'https://rinkeby.infura.io/v3/13932dea88aa42069f4a1650b1afd8f0'
); 
const web3 = new Web3(provider);

const deploy = async () => {
    const accounts = await web3.eth.getAccounts();
    console.log('Attempting to deploy from: ', accounts[0]);
    const result = await new web3.eth.Contract(JSON.parse(interface))
    .deploy({ data: 
         "6080604052670de0b6b3a764000060005534801561001c57600080fd5b50604051611025380380611025833981810160405281019061003e91906100a6565b80600481905550600454600260003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550506100f0565b6000815190506100a0816100d9565b92915050565b6000602082840312156100b857600080fd5b60006100c684828501610091565b91505092915050565b6000819050919050565b6100e2816100cf565b81146100ed57600080fd5b50565b610f26806100ff6000396000f3fe60806040526004361061009c5760003560e01c8063313ce56711610064578063313ce5671461019c578063537317f4146101c757806370a08231146101f757806395d89b4114610234578063a9059cbb1461025f578063dd62ed3e1461029c5761009c565b806306fdde03146100a1578063095ea7b3146100cc578063096459a01461010957806318160ddd1461013457806323b872dd1461015f575b600080fd5b3480156100ad57600080fd5b506100b66102d9565b6040516100c39190610db5565b60405180910390f35b3480156100d857600080fd5b506100f360048036038101906100ee9190610ccf565b610312565b6040516101009190610d9a565b60405180910390f35b34801561011557600080fd5b5061011e610404565b60405161012b9190610dd7565b60405180910390f35b34801561014057600080fd5b5061014961040a565b6040516101569190610dd7565b60405180910390f35b34801561016b57600080fd5b5061018660048036038101906101819190610c80565b610414565b6040516101939190610d9a565b60405180910390f35b3480156101a857600080fd5b506101b1610794565b6040516101be9190610df2565b60405180910390f35b6101e160048036038101906101dc9190610d0b565b610799565b6040516101ee9190610d9a565b60405180910390f35b34801561020357600080fd5b5061021e60048036038101906102199190610c1b565b6108ce565b60405161022b9190610dd7565b60405180910390f35b34801561024057600080fd5b50610249610917565b6040516102569190610db5565b60405180910390f35b34801561026b57600080fd5b5061028660048036038101906102819190610ccf565b610950565b6040516102939190610d9a565b60405180910390f35b3480156102a857600080fd5b506102c360048036038101906102be9190610c44565b610b37565b6040516102d09190610dd7565b60405180910390f35b6040518060400160405280601481526020017f5441534b202d20446563656e7472616c697a656400000000000000000000000081525081565b600081600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925846040516103f29190610dd7565b60405180910390a36001905092915050565b60005481565b6000600454905090565b6000600260008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205482111561046257600080fd5b600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020548211156104eb57600080fd5b61053d82600260008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610bbe90919063ffffffff16565b600260008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555061060f82600360008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610bbe90919063ffffffff16565b600360008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506106e182600260008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610bd590919063ffffffff16565b600260008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040516107819190610dd7565b60405180910390a3600190509392505050565b600281565b60003373ffffffffffffffffffffffffffffffffffffffff163182106107be57600080fd5b600260ff16600a0a60005483816107d157fe5b0402600181905550600154600260003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054101561082757600080fd5b600154600260003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282540392505081905550600154600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555060019050919050565b6000600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6040518060400160405280600381526020017f54534b000000000000000000000000000000000000000000000000000000000081525081565b6000600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205482111561099e57600080fd5b6109f082600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610bbe90919063ffffffff16565b600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550610a8582600260008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610bd590919063ffffffff16565b600260008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef84604051610b259190610dd7565b60405180910390a36001905092915050565b6000600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b600082821115610bca57fe5b818303905092915050565b600080828401905083811015610be757fe5b8091505092915050565b600081359050610c0081610ec2565b92915050565b600081359050610c1581610ed9565b92915050565b600060208284031215610c2d57600080fd5b6000610c3b84828501610bf1565b91505092915050565b60008060408385031215610c5757600080fd5b6000610c6585828601610bf1565b9250506020610c7685828601610bf1565b9150509250929050565b600080600060608486031215610c9557600080fd5b6000610ca386828701610bf1565b9350506020610cb486828701610bf1565b9250506040610cc586828701610c06565b9150509250925092565b60008060408385031215610ce257600080fd5b6000610cf085828601610bf1565b9250506020610d0185828601610c06565b9150509250929050565b600060208284031215610d1d57600080fd5b6000610d2b84828501610c06565b91505092915050565b610d3d81610e3b565b82525050565b6000610d4e82610e0d565b610d588185610e18565b9350610d68818560208601610e7e565b610d7181610eb1565b840191505092915050565b610d8581610e67565b82525050565b610d9481610e71565b82525050565b6000602082019050610daf6000830184610d34565b92915050565b60006020820190508181036000830152610dcf8184610d43565b905092915050565b6000602082019050610dec6000830184610d7c565b92915050565b6000602082019050610e076000830184610d8b565b92915050565b600081519050919050565b600082825260208201905092915050565b6000610e3482610e47565b9050919050565b60008115159050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b600060ff82169050919050565b60005b83811015610e9c578082015181840152602081019050610e81565b83811115610eab576000848401525b50505050565b6000601f19601f8301169050919050565b610ecb81610e29565b8114610ed657600080fd5b50565b610ee281610e67565b8114610eed57600080fd5b5056fea2646970667358221220e73f6549346ba6f9bc5d4873c49cd1e795588becef6b5c6b09fcaf24292e03ce64736f6c63430007060033" })
    .send({ gas: '1000000', from: accounts[0] });
    console.log(interface);
    console.log('Contract deployed to: ', result.options.address);
};
deploy();